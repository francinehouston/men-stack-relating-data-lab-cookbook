<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Recipe</title>
</head>
<body>
  <h1>Edit Recipe</h1>

  <form action="/recipes/<%= recipe._id %>?_method=PUT" method="POST">
    <label for="title">Recipe Title:</label>
    <input type="text" id="title" name="title" value="<%= recipe.title %>" required>
    <br>

    <label for="description">Description:</label>
    <textarea id="description" name="description" required><%= recipe.description %></textarea>
    <br>

    <label for="ingredients">Ingredients (comma-separated):</label>
    <input type="text" id="ingredients" name="ingredients" value="<%= recipe.ingredients.join(', ') %>" required>
    <br>

    <label for="instructions">Instructions:</label>
    <textarea id="instructions" name="instructions" required><%= recipe.instructions %></textarea>
    <br>

    <button type="submit">Update Recipe</button>
  </form>

  <h1><%= recipe.name %></h1>

<h2>Ingredients</h2>
<form action="/recipes/<%= recipe.id %>/add-ingredients" method="POST">
    <label for="ingredients">Choose Ingredients:</label>
    <select name="ingredients" multiple>
        <% ingredients.forEach(function(ingredient) { %>
            <option value="<%= ingredient.id %>"><%= ingredient.name %></option>
        <% }) %>
    </select>
    <button type="submit">Add Ingredients</button>
</form>
<button type="submit">Save Recipe</button>

  <a href="/recipes">Cancel</a>
</body>
</html>
